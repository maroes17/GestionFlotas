<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <?!= obtenerDatosHtml('css'); ?>
  </head>

  <body>
    <div class="wrapper">
      <aside id="sidebar">
        <div class="d-flex">
          <button id="toggle-btn" type="button">
            <i class="bi bi-grid-fill"></i>
          </button>

          <a href="#" class="sidebar-logo">Transportes Romanesco</a>
        </div>

        <ul class="sidebar-nav">
          <li class="sidebar-item">
            <button id="flotaBtn" class="sidebar-link">
              <i class="bi bi-truck"></i>

              <span>Flota</span>
            </button>
          </li>

          <li class="sidebar-item">
            <button class="sidebar-link">
              <i class="bi bi-globe-americas"></i>

              <span>Viajes</span>
            </button>
          </li>

          <li class="sidebar-item">
            <button id="choferesBtn" class="sidebar-link">
              <i class="bi bi-person-vcard"></i>

              <span>Choferes</span>
            </button>
          </li>
        </ul>

        <div class="sidebar-footer">
          <div class="sidebar-footer">
            <button class="sidebar-link">
              <i class="bi bi-box-arrow-right"></i>

              <span>By Matias Rojas</span>
            </button>
          </div>
        </div>
      </aside>

      <div class="main p-3">
        <div class="container">
          <div
            id="table-header"
            class="d-flex justify-content-between align-items-center mb-3"
            style="display: none"
          >
            <div>
              <span id="currentSectionTitle" class="h4"></span>
            </div>

            <div id="action-buttons"></div>
          </div>
          <div id="cards-choferes" class="row g-3 mb-4"></div>

          <table
            id="tablaPrueba"
            class="table table-striped"
            style="width: 100%"
          >
            <thead></thead>

            <tbody></tbody>

            <tfoot></tfoot>
          </table>
        </div>
      </div>
    </div>

    <!-- Modal Boton Agregar Flota -->

    <div
      class="modal fade"
      id="modalAgregarFlota"
      tabindex="-1"
      aria-labelledby="modalAgregarFlotaLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalAgregarFlotaLabel">
              Agregar Nuevo Registro de Flota
            </h5>

            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Cerrar"
            ></button>
          </div>

          <div class="modal-body">
            <form id="formAgregarFlota">
              <input
                type="hidden"
                id="inputCreacionRegistroFlota"
                value="Creación de Registro"
              />

              <div class="mb-3">
                <label for="inputTipoFlota" class="form-label">Tipo</label>

                <select class="form-select" id="inputTipoFlota" required>
                  <option value="Camión">Camión</option>

                  <option value="Vehículo">Vehículo</option>
                </select>
              </div>

              <div class="row mb-3">
                <div class="col-md-6">
                  <label for="inputPatenteFlota" class="form-label"
                    >Patente</label
                  >

                  <input
                    type="text"
                    class="form-control"
                    id="inputPatenteFlota"
                    required
                  />
                </div>

                <div class="col-md-6">
                  <label for="inputNroChasisFlota" class="form-label"
                    >Nro Chasis</label
                  >

                  <input
                    type="text"
                    class="form-control"
                    id="inputNroChasisFlota"
                    required
                  />
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-6">
                  <label for="inputMarcaFlota" class="form-label">Marca</label>

                  <select
                    class="form-select"
                    id="inputMarcaFlota"
                    required
                    onchange="actualizarModeloFlota()"
                  >
                    <option value="Freightliner">Freightliner</option>

                    <option value="International">International</option>

                    <option value="Kenworth">Kenworth</option>

                    <option value="Mack Trucks">Mack Trucks</option>
                  </select>
                </div>

                <div class="col-md-6">
                  <label for="inputModeloFlota" class="form-label"
                    >Modelo</label
                  >

                  <select
                    class="form-select"
                    id="inputModeloFlota"
                    required
                  ></select>
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-6">
                  <label for="inputAñoFlota" class="form-label">Año</label>

                  <input
                    type="number"
                    class="form-control"
                    id="inputAñoFlota"
                    required
                  />
                </div>

                <div class="col-md-6">
                  <label for="inputCapacidadFlota" class="form-label"
                    >Capacidad</label
                  >

                  <input
                    type="number"
                    class="form-control"
                    id="inputCapacidadFlota"
                    required
                  />
                </div>
              </div>
              <div class="mb-3">
                <label for="editarEstadoFlota" class="form-label">Estado</label>
                <select class="form-select" id="inputEstadoFlota" required>
                  <option value="Disponible">Disponible</option>
                  <option value="Mantención">Mantención</option>
                  <option value="Siniestro">Siniestro</option>
                  <option value="Robado">Robado</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="inputFechaIngresoFlota" class="form-label"
                  >Fecha de Ingreso</label
                >

                <input
                  type="date"
                  class="form-control"
                  id="inputFechaIngresoFlota"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="inputObservacionesFlota" class="form-label"
                  >Observaciones</label
                >

                <textarea
                  class="form-control"
                  id="inputObservacionesFlota"
                  rows="3"
                ></textarea>
              </div>
            </form>
          </div>

          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancelar
            </button>

            <button type="button" class="btn btn-primary" id="btnGuardarFlota">
              Guardar Flota
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal para editar Tabla Flota -->

    <div
      class="modal fade"
      id="modalEditarFlota"
      tabindex="-1"
      aria-labelledby="modalEditarFlotaLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalEditarFlotaLabel">
              Editar Registro de Flota
            </h5>

            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Cerrar"
            ></button>
          </div>

          <div class="modal-body">
            <form id="formEditarFlota">
              <input type="hidden" id="editarIdFlota" />

              <div class="mb-3">
                <label for="editarTipoFlota" class="form-label">Tipo</label>

                <select class="form-select" id="editarTipoFlota" required>
                  <option value="Camión">Camión</option>

                  <option value="Vehículo">Vehículo</option>
                </select>
              </div>

              <div class="row mb-3">
                <div class="col-md-6">
                  <label for="editarPatenteFlota" class="form-label"
                    >Patente</label
                  >

                  <input
                    type="text"
                    class="form-control"
                    id="editarPatenteFlota"
                    required
                  />
                </div>

                <div class="col-md-6">
                  <label for="editarNroChasisFlota" class="form-label"
                    >Nro Chasis</label
                  >

                  <input
                    type="text"
                    class="form-control"
                    id="editarNroChasisFlota"
                    required
                  />
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-6">
                  <label for="editarMarcaFlota" class="form-label">Marca</label>

                  <select
                    class="form-select"
                    id="editarMarcaFlota"
                    required
                    onchange="actualizarModeloEditarFlota()"
                  >
                    <option value="Freightliner">Freightliner</option>

                    <option value="International">International</option>

                    <option value="Kenworth">Kenworth</option>

                    <option value="Mack Trucks">Mack Trucks</option>
                  </select>
                </div>

                <div class="col-md-6">
                  <label for="editarModeloFlota" class="form-label"
                    >Modelo</label
                  >

                  <select
                    class="form-select"
                    id="editarModeloFlota"
                    required
                  ></select>
                </div>
              </div>

              <div class="row mb-3">
                <div class="col-md-6">
                  <label for="editarAñoFlota" class="form-label">Año</label>

                  <input
                    type="number"
                    class="form-control"
                    id="editarAñoFlota"
                    required
                  />
                </div>

                <div class="col-md-6">
                  <label for="editarCapacidadFlota" class="form-label"
                    >Capacidad</label
                  >

                  <input
                    type="number"
                    class="form-control"
                    id="editarCapacidadFlota"
                  />
                </div>
              </div>
              <div class="mb-3">
                <label for="editarEstadoFlota" class="form-label">Estado</label>
                <select class="form-select" id="editarEstadoFlota" required>
                  <option value="Disponible">Disponible</option>
                  <option value="Mantención">Mantención</option>
                  <option value="Siniestro">Siniestro</option>
                  <option value="Robado">Robado</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="editarFechaIngresoFlota" class="form-label"
                  >Fecha de Ingreso</label
                >

                <input
                  type="date"
                  class="form-control"
                  id="editarFechaIngresoFlota"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="editarObservacionesFlota" class="form-label"
                  >Observaciones</label
                >

                <textarea
                  class="form-control"
                  id="editarObservacionesFlota"
                  rows="3"
                ></textarea>
              </div>
            </form>
          </div>

          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancelar
            </button>

            <button
              type="button"
              class="btn btn-primary"
              id="btnGuardarEditarFlota"
            >
              Guardar Cambios
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL LOADING -->
    <div
      id="loadingModal"
      class="modal fade"
      data-bs-backdrop="static"
      tabindex="-1"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0">
          <div class="modal-body text-center p-5">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Cargando...</span>
            </div>
            <p class="mt-3 mb-0">Procesando datos...</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Agregar Chofer -->
<div class="modal fade" id="modalAgregarChofer" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalAgregarChoferLabel">Agregar Nuevo Chofer</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <form id="formAgregarChofer">
  
            <!-- Primera fila: Nombre completo y DNI -->
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="inputNombreChofer" class="form-label">Nombre completo</label>
                <input type="text" id="inputNombreChofer" name="nombrechofer" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label for="inputDniChofer" class="form-label">DNI o Pasaporte</label>
                <input type="text" id="inputDniChofer" name="dnichofer" class="form-control" required>
              </div>
            </div>
  
            <!-- Segunda fila: Licencia y Tipo de Licencia -->
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="inputLicenciaChofer" class="form-label">Licencia</label>
                <input type="text" id="inputLicenciaChofer" name="licenciachofer" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label for="inputTipoLicenciaChofer" class="form-label">Tipo de Licencia</label>
                <select id="inputTipoLicenciaChofer" name="tipolicenciachofer" class="form-select" required>
                    <option value="">Seleccione tipo de licencia</option>
                    <option value="A1">A1</option>
                    <option value="A2">A2</option>
                    <option value="A3">A3</option>
                    <option value="A4">A4</option>
                    <option value="A5">A5</option>
                  </select>
              </div>
            </div>
  
            <!-- Tercera fila: Vencimiento Licencia y Fecha Ingreso -->
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="inputVencimientoLicenciaChofer" class="form-label">Vencimiento Licencia</label>
                <input type="date" id="inputVencimientoLicenciaChofer" name="vencimientolicenciachofer" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label for="inputFechaIngresoChofer" class="form-label">Fecha de Ingreso</label>
                <input type="date" id="inputFechaIngresoChofer" name="fechaingresochofer" class="form-control" required>
              </div>
            </div>
  
            <!-- Cuarta fila: Teléfono y Email -->
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="inputTelefonoChofer" class="form-label">Teléfono</label>
                <input type="text" id="inputTelefonoChofer" name="telefonochofer" class="form-control">
              </div>
              <div class="col-md-6">
                <label for="inputEmailChofer" class="form-label">Email</label>
                <input type="email" id="inputEmailChofer" name="emailchofer" class="form-control">
              </div>
            </div>
  
            <!-- Quinta fila: Estado y Asignado a Flota -->
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="inputEstadoChofer" class="form-label">Estado</label>
                <select id="inputEstadoChofer" name="estadochofer" class="form-select" required>
                  <option value="Disponible">Disponible</option>
                  <option value="En viaje">En viaje</option>
                  <option value="Licencia">Licencia</option>
                  <option value="Baja">Baja</option>
                </select>
              </div>
              <div class="col-md-6">
                <label for="inputAsignadoFlotaChofer" class="form-label">Asignado a Flota</label>
                <select id="inputAsignadoFlotaChofer" name="asignadoflotachofer" class="form-select">
                    <option value="">Seleccione flota</option>
                    <!-- Aquí se llenarán las patentes dinámicamente -->
                  </select>
              </div>
            </div>
  
            <!-- Observaciones: ocupa toda la fila -->
            <div class="mb-3">
              <label for="inputObservacionesChofer" class="form-label">Observaciones</label>
              <textarea id="inputObservacionesChofer" name="observacioneschofer" class="form-control" rows="2"></textarea>
            </div>
            <!-- Agregar foto Chofer -->
            <div class="mb-3">
                <label for="inputFotoChofer" class="form-label">Foto del Chofer</label>
                <input type="file" class="form-control" id="inputFotoChofer" name="fotochofer" accept="image/*">
              </div>
  
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary" id="btnGuardarChofer">Guardar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Editar Chofer -->
<div class="modal fade" id="modalEditarChofer" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalEditarChoferLabel">Editar Chofer</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <form id="formEditarChofer">
            <input type="hidden" id="editarIdChofer" name="idchofer">
  
            <!-- Primera fila: Nombre completo y DNI -->
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="editarNombreChofer" class="form-label">Nombre completo</label>
                <input type="text" id="editarNombreChofer" name="nombrechofer" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label for="editarDniChofer" class="form-label">DNI o Pasaporte</label>
                <input type="text" id="editarDniChofer" name="dnichofer" class="form-control" required>
              </div>
            </div>
  
            <!-- Segunda fila: Licencia y Tipo de Licencia -->
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="editarLicenciaChofer" class="form-label">Licencia</label>
                <input type="text" id="editarLicenciaChofer" name="licenciachofer" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label for="editarTipoLicenciaChofer" class="form-label">Tipo de Licencia</label>
                <select id="editarTipoLicenciaChofer" name="tipolicenciachofer" class="form-select" required>
                  <option value="">Seleccione tipo de licencia</option>
                  <option value="A1">A1</option>
                  <option value="A2">A2</option>
                  <option value="A3">A3</option>
                  <option value="A4">A4</option>
                  <option value="A5">A5</option>
                </select>
              </div>
            </div>
  
            <!-- Tercera fila: Vencimiento Licencia y Fecha Ingreso -->
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="editarVencimientoLicenciaChofer" class="form-label">Vencimiento Licencia</label>
                <input type="date" id="editarVencimientoLicenciaChofer" name="vencimientolicenciachofer" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label for="editarFechaIngresoChofer" class="form-label">Fecha de Ingreso</label>
                <input type="date" id="editarFechaIngresoChofer" name="fechaingresochofer" class="form-control" required>
              </div>
            </div>
  
            <!-- Cuarta fila: Teléfono y Email -->
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="editarTelefonoChofer" class="form-label">Teléfono</label>
                <input type="text" id="editarTelefonoChofer" name="telefonochofer" class="form-control">
              </div>
              <div class="col-md-6">
                <label for="editarEmailChofer" class="form-label">Email</label>
                <input type="email" id="editarEmailChofer" name="emailchofer" class="form-control">
              </div>
            </div>
  
            <!-- Quinta fila: Estado y Asignado a Flota -->
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="editarEstadoChofer" class="form-label">Estado</label>
                <select id="editarEstadoChofer" name="estadochofer" class="form-select" required>
                  <option value="Disponible">Disponible</option>
                  <option value="En viaje">En viaje</option>
                  <option value="Licencia">Licencia</option>
                  <option value="Baja">Baja</option>
                </select>
              </div>
              <div class="col-md-6">
                <label for="editarAsignadoFlotaChofer" class="form-label">Asignado a Flota</label>
                <select id="editarAsignadoFlotaChofer" name="asignadoflotachofer" class="form-select">
                  <!-- Opciones dinámicas -->
                </select>
              </div>
            </div>
  
            <!-- Observaciones -->
            <div class="mb-3">
              <label for="editarObservacionesChofer" class="form-label">Observaciones</label>
              <textarea id="editarObservacionesChofer" name="observacioneschofer" class="form-control" rows="2"></textarea>
            </div>
            <!-- Actualizar foto Chofer -->
            <div class="mb-3">
                <label for="editarFotoChofer" class="form-label">Actualizar Foto Chofer</label>
                <input type="file" class="form-control" id="editarFotoChofer" name="fotochofer" accept="image/*">
              </div>
              
  
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary" id="btnGuardarEditarChofer">Guardar Cambios</button>
        </div>
      </div>
    </div>
  </div>
  
  

    <?!= obtenerDatosHtml('js'); ?>
  </body>
</html>
